(function(t){function e(e){for(var o,c,u=e[0],i=e[1],s=e[2],l=0,d=[];l<u.length;l++)c=u[l],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&d.push(r[c][0]),r[c]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o]);f&&f(e);while(d.length)d.shift()();return a.push.apply(a,s||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],o=!0,c=1;c<n.length;c++){var i=n[c];0!==r[i]&&(o=!1)}o&&(a.splice(e--,1),t=u(u.s=n[0]))}return t}var o={},r={app:0},a=[];function c(t){return u.p+"js/"+({}[t]||t)+"."+{"chunk-2d0b91f4":"e65d7007","chunk-2d21e6fb":"7fb877ba"}[t]+".js"}function u(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(t){var e=[],n=r[t];if(0!==n)if(n)e.push(n[2]);else{var o=new Promise(function(e,o){n=r[t]=[e,o]});e.push(n[2]=o);var a,i=document.createElement("script");i.charset="utf-8",i.timeout=120,u.nc&&i.setAttribute("nonce",u.nc),i.src=c(t);var s=new Error;a=function(e){i.onerror=i.onload=null,clearTimeout(l);var n=r[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,n[1](s)}r[t]=void 0}};var l=setTimeout(function(){a({type:"timeout",target:i})},12e4);i.onerror=i.onload=a,document.head.appendChild(i)}return Promise.all(e)},u.m=t,u.c=o,u.d=function(t,e,n){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},u.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)u.d(n,o,function(e){return t[e]}.bind(null,o));return n},u.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="/",u.oe=function(t){throw console.error(t),t};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var f=s;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("744f"),n("6c7b"),n("7514"),n("20d6"),n("1c4c"),n("6762"),n("cadf"),n("e804"),n("55dd"),n("d04f"),n("c8ce"),n("217b"),n("7f7f"),n("f400"),n("7f25"),n("536b"),n("d9ab"),n("f9ab"),n("32d7"),n("25c9"),n("9f3c"),n("042e"),n("c7c6"),n("f4ff"),n("049f"),n("7872"),n("a69f"),n("0b21"),n("6c1a"),n("c7c62"),n("84b4"),n("c5f6"),n("2e37"),n("fca0"),n("7cdf"),n("ee1d"),n("b1b1"),n("87f3"),n("9278"),n("5df2"),n("04ff"),n("f751"),n("4504"),n("fee7"),n("ffc1"),n("0d6d"),n("9986"),n("8e6e"),n("25db"),n("e4f7"),n("b9a1"),n("64d5"),n("9aea"),n("db97"),n("66c8"),n("57f0"),n("165b"),n("456d"),n("cf6a"),n("fd24"),n("8615"),n("551c"),n("097d"),n("df1b"),n("2397"),n("88ca"),n("ba16"),n("d185"),n("ebde"),n("2d34"),n("f6b3"),n("2251"),n("c698"),n("a19f"),n("9253"),n("9275"),n("3b2b"),n("3846"),n("4917"),n("a481"),n("28a5"),n("386d"),n("6b54"),n("4f7f"),n("8a81"),n("ac4d"),n("8449"),n("9c86"),n("fa83"),n("48c0"),n("a032"),n("aef6"),n("d263"),n("6c37"),n("9ec8"),n("5695"),n("2fdb"),n("d0b0"),n("5df3"),n("b54a"),n("f576"),n("ed50"),n("788d"),n("14b9"),n("f386"),n("f559"),n("1448"),n("673e"),n("242a"),n("c66f"),n("b05c"),n("34ef"),n("6aa2"),n("15ac"),n("af56"),n("b6e4"),n("9c29"),n("63d9"),n("4dda"),n("10ad"),n("c02b"),n("4795"),n("130f"),n("ac6a"),n("96cf");var o=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n(t.layout,{tag:"component"},[n("router-view")],1)],1)},a=[],c="app",u={data:function(){return{}},computed:{layout:function(){return(this.$route.meta.layout||c)+"-layout"}}},i=u,s=n("2877"),l=Object(s["a"])(i,r,a,!1,null,null,null),f=l.exports,d=n("8c4f"),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("HelloWorld")},m=[],v=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",[o("v-layout",{attrs:{"text-center":"",wrap:""}},[o("v-flex",{attrs:{xs12:""}},[o("v-img",{staticClass:"my-3",attrs:{src:n("9b19"),contain:"",height:"200"}})],1),o("v-flex",[o("h2",[t._v("Bienvenido: "+t._s(t.getUser.nombre))])])],1)],1)},b=[],h={components:{},data:function(){return{user:{}}},computed:{getUser:function(){return this.$store.getters.get_user}},mounted:function(){}},g=h,y=(n("87b5"),Object(s["a"])(g,v,b,!1,null,"7bd75232",null)),_=y.exports,w={components:{HelloWorld:_}},k=w,x=Object(s["a"])(k,p,m,!1,null,null,null),j=x.exports,O=n("2f62"),S={state:{layout:"simple-layout"},getters:{layout:function(t){return t.layout}},mutations:{SET_LAYOUT:function(t,e){t.layout=e}},actions:{}},E=n("bc3a"),P=n.n(E),C="http://localhost:3000",$="".concat(C),T=("".concat($),localStorage.getItem("token")),F=P.a.create({headers:{token:T}}),I={state:{status:"",token:localStorage.getItem("token")||"",user:{}},getters:{isLoggedIn:function(t){return!!t.token},authStatus:function(t){return t.status},get_user:function(t){return t.user}},mutations:{auth_success:function(t,e){t.status="success",t.token=e},logout:function(t){t.status="",t.token=""},set_user:function(t,e){t.user=e}},actions:{REGISTER:function(t,e){t.commit;return new Promise(function(t,n){F.post("/api/users/nuevo-usuario",e,{headers:{"Content-Type":"application/json"}}).then(function(e){e.data;var n=e.status;200===n&&t(!0)}).catch(function(t){console.log(t),n(t)})})},LOGIN:function(t,e){var n=t.commit;return new Promise(function(t,o){F.post("/api/login",e,{headers:{"Content-Type":"application/json"}}).then(function(e){var o=e.data,r=e.status;if(200===r){console.log(o);var a=o.token,c=o.usuarioDB;console.log(c),localStorage.setItem("token",a),n("auth_success",a),n("set_user",c),t(!0)}}).catch(function(t){console.log(t),o(t)})})},logout:function(t){var e=t.commit;return new Promise(function(t,n){e("logout"),localStorage.removeItem("token"),t()})}}};o["default"].use(O["a"]);var L=new O["a"].Store({modules:{layouts:S,user:I}});o["default"].use(d["a"]);var A=new d["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:j,meta:{requiresAuth:!0,layout:"app"}},{path:"/login",name:"login",component:function(){return n.e("chunk-2d21e6fb").then(n.bind(null,"d60c"))},meta:{layout:"simple"}},{path:"/register",name:"register",component:function(){return n.e("chunk-2d0b91f4").then(n.bind(null,"3232"))},meta:{layout:"simple"}}]});A.beforeEach(function(t,e,n){if(t.matched.some(function(t){return t.meta.requiresAuth})){if(L.getters.isLoggedIn)return void n();n("/login")}else n()});var M=A,U=n("ce5b"),B=n.n(U),q=(n("bf40"),n("2e15")),D=n.n(q);o["default"].use(B.a);var H=new B.a({theme:{themes:{light:{primary:"#00BCD4",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}}},lang:{locales:{es:D.a},current:"es"},icons:{iconfont:"md"}}),G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._t("default")],2)},J=[],R={},W=R,N=Object(s["a"])(W,G,J,!1,null,null,null),Y=N.exports,z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{id:"inspire"}},[n("v-navigation-drawer",{attrs:{app:"",fixed:"",clipped:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{on:{click:function(t){}}},[n("v-list-item-action",[n("v-icon",[t._v("home")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("Home")])],1)],1),n("v-list-item",{on:{click:t.logout}},[n("v-list-item-action",[n("v-icon",[t._v("eject")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("Salir")])],1)],1)],1)],1),n("v-app-bar",{attrs:{app:"",color:"primary",dark:"","clipped-left":"",fixed:""}},[n("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),n("v-toolbar-title",[t._v("DEMO - "+t._s(t.getUser.nombre)+" ")])],1),n("v-content",[n("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",{staticClass:"text-center"},[t._t("default")],2)],1)],1)],1),n("v-footer",{attrs:{color:"primary",app:""}},[n("span",{staticClass:"white--text"},[t._v("Â© 2019")])])],1)},K=[],Q={props:{source:String},data:function(){return{drawer:null}},methods:{logout:function(){var t=this;this.$store.dispatch("logout").then(function(e){t.$router.push({name:"login"})})}},computed:{getUser:function(){return this.$store.getters.get_user}}},V=Q,X=Object(s["a"])(V,z,K,!1,null,null,null),Z=X.exports;n("d5e8"),n("d1e7");o["default"].component("simple-layout",Y),o["default"].component("app-layout",Z),o["default"].config.productionTip=!1,new o["default"]({router:M,store:L,vuetify:H,render:function(t){return t(f)}}).$mount("#app")},"87b5":function(t,e,n){"use strict";var o=n("9698"),r=n.n(o);r.a},9698:function(t,e,n){},"9b19":function(t,e,n){t.exports=n.p+"img/logo.63a7d78d.svg"}});
//# sourceMappingURL=app.450d95be.js.map